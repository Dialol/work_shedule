# Планирование рабочего расписания

Система для планирования рабочего расписания сотрудников с учетом их пожеланий.

## Возможности

- Просмотр текущего расписания
- Указание желаемых выходных на следующую неделю
- Просмотр статистики отработанных смен по месяцам

## Технологии

- Python 3.12
- Django 5.2
- PostgreSQL
- Bootstrap 5
- Docker

## Установка и запуск

1. Клонируйте репозиторий:
```bash
git clone git@github.com:Dialol/work_sheduler.git
cd work_sheduler
```

2. Создайте файл `.env` в корневой директории проекта со следующим содержимым:
```env
DEBUG=True
SECRET_KEY=your-secret-key-here
ALLOWED_HOSTS=localhost,127.0.0.1
DATABASE_URL=postgres://postgres:postgres@db:5432/work_schedule
```

3. Соберите и запустите контейнеры:
```bash
docker-compose up --build
```

Приложение будет доступно по адресу: http://127.0.0.1:8000/

Админ-панель: http://127.0.0.1:8000/admin/

# Алгоритм составления расписания

## Общее описание
Алгоритм создает еженедельное расписание для сотрудников бара, учитывая:
- Требуемое количество сотрудников на каждый день недели
- Желаемые выходные дни сотрудников
- Равномерное распределение смен между сотрудниками

## Требования к расписанию
1. Количество сотрудников на каждый день:
   - Понедельник-четверг: 4 человека
   - Четверг-пятница: 5 человек
   - Суббота-воскресенье: 7 человек

2. Приоритеты при составлении:
   - Учет желаемых выходных дней сотрудников
   - Равномерное распределение смен
   - Минимальное отклонение от среднего количества смен

## Пример работы

Допустим, у нас 7 сотрудников: Аня, Боря, Ваня, Гена, Дима, Егор, Женя

### Понедельник (нужно 4 человека):
1. Аня и Боря запросили выходной
2. Доступные: Ваня, Гена, Дима, Егор, Женя
3. У всех по 0 смен
4. Выбираем: Ваня, Гена, Дима, Егор

### Вторник (нужно 4 человека):
1. Ваня запросил выходной
2. Доступные: Аня, Боря, Гена, Дима, Егор, Женя
3. У Ваня, Гены, Димы, Егора по 1 смене
4. У остальных по 0 смен
5. Выбираем: Аня, Боря, Женя, Гена

И так далее...

## Проверка корректности
Алгоритм гарантирует:
1. Необходимое количество сотрудников на каждый день
2. Учет желаемых выходных (когда возможно)
3. Равномерное распределение смен (отклонение не более 1 от среднего)
4. Справедливый выбор при нехватке сотрудников

## Возможные улучшения
1. Добавить учет предыдущих смен (не ставить подряд)
2. Учитывать квалификацию сотрудников
3. Добавить веса для разных дней недели
4. Учитывать пожелания по времени смен
